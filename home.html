<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Home</title>

   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
   <link rel="stylesheet" href="css/style.css">
   <style>
      .ai-sticky-btn {
         position: fixed;
         bottom: 30px;
         right: 30px;
         background: linear-gradient(135deg, #6e8efb, #a777e3);
         color: white;
         border: none;
         border-radius: 50px;
         padding: 15px 25px;
         font-size: 16px;
         font-weight: bold;
         cursor: pointer;
         box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
         z-index: 9999;
         display: flex;
         align-items: center;
         transition: all 0.3s ease;
      }

      .ai-sticky-btn:hover {
         transform: translateY(-3px);
         box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      .ai-modal {
         display: none;
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background-color: rgba(0, 0, 0, 0.7);
         z-index: 10000;
         justify-content: center;
         align-items: center;
      }

      .ai-modal-content {
         background-color: #fff;
         border-radius: 10px;
         width: 90%;
         max-width: 600px;
         max-height: 90vh;
         overflow-y: auto;
         box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
      }

      .ai-modal-header {
         padding: 20px;
         background: linear-gradient(135deg, #6e8efb, #a777e3);
         color: white;
         border-radius: 10px 10px 0 0;
         display: flex;
         justify-content: space-between;
         align-items: center;
      }

      .ai-modal-body {
         padding: 20px;
      }

      .form-group {
         margin-bottom: 20px;
      }

      .form-control {
         width: 100%;
         padding: 12px;
         border: 1px solid #ddd;
         border-radius: 5px;
         font-size: 16px;
      }

      .btn {
         padding: 12px 24px;
         background: linear-gradient(135deg, #6e8efb, #a777e3);
         color: white;
         border: none;
         border-radius: 5px;
         font-size: 16px;
         cursor: pointer;
      }

      .response-area {
         margin-top: 20px;
         padding: 15px;
         border: 1px solid #ddd;
         border-radius: 5px;
         background-color: #f9f9f9;
         min-height: 100px;
      }

      .loading {
         display: none;
         text-align: center;
         padding: 20px;
      }
   </style>
</head>

<body>
   <button class="ai-sticky-btn" id="aiStickyBtn">🤖 Use AI</button>

   <div class="ai-modal" id="aiModal">
      <div class="ai-modal-content">
         <div class="ai-modal-header">
            <h3>AI Video Assistant</h3>
            <button id="aiModalClose">&times;</button>
         </div>
         <div class="ai-modal-body">
            <div class="form-group">
               <label for="youtubeUrl">YouTube Video URL</label>
               <input type="text" id="youtubeUrl" class="form-control"
                  placeholder="https://www.youtube.com/watch?v=...">
            </div>

            <div class="form-group">
               <label for="actionType">What would you like to do?</label>
               <select id="actionType" class="form-control">
                  <option value="summary">Get Summary</option>
                  <option value="transcript">Get Full Transcript</option>
                  <option value="custom">Ask Custom Question</option>
               </select>
            </div>

            <div class="form-group" id="customQuestionGroup" style="display: none;">
               <label for="customQuestion">Your Question</label>
               <input type="text" id="customQuestion" class="form-control"
                  placeholder="What is the main point of this video?">
            </div>

            <button class="btn" id="processBtn">Process Video</button>

            <div class="loading" id="loadingIndicator">
               <p>Processing your request...</p>
            </div>

            <div class="response-area" id="responseArea"></div>
         </div>
      </div>
   </div>

   <header class="header">

      <section class="flex">

         <a href="home.html" class="logo">Study Smart</a>

         <form action="search.html" method="post" class="search-form">
            <input type="text" name="search_box" required placeholder="search courses..." maxlength="100">
            <button type="submit" class="fas fa-search"></button>
         </form>

         <div class="icons">
            <div id="menu-btn" class="fas fa-bars"></div>
            <div id="search-btn" class="fas fa-search"></div>
            <div id="user-btn" class="fas fa-user"></div>
            <div id="toggle-btn" class="fas fa-sun"></div>
         </div>

         <div class="profile">
            <img src="images/pic-1.jpg" class="image" alt="">
            <h3 class="name">Saransh</h3>
            <p class="role">Student</p>
            <a href="profile.html" class="btn">View profile</a>
            <div class="flex-btn">
               <a href="login.html" class="option-btn">Login</a>
               <a href="register.html" class="option-btn">Register</a>
            </div>
         </div>

      </section>

   </header>

   <div class="side-bar">

      <div id="close-btn">
         <i class="fas fa-times"></i>
      </div>

      <div class="profile">
         <img src="images/pic-1.jpg" class="image" alt="">
         <h3 class="name">Saransh</h3>
         <p class="role">Student</p>
         <a href="profile.html" class="btn">view profile</a>
      </div>

      <nav class="navbar">
         <a href="home.html"><i class="fas fa-home"></i><span>Home</span></a>
         <a href="about.html"><i class="fas fa-question"></i><span>About</span></a>
         <a href="courses.html"><i class="fas fa-graduation-cap"></i><span>Courses</span></a>
         <a href="teachers.html"><i class="fas fa-chalkboard-user"></i><span>Teachers</span></a>
         <a href="contact.html"><i class="fas fa-headset"></i><span>Contact us</span></a>
      </nav>

   </div>

   <section class="home-grid">

      <h1 class="heading">Quick options</h1>

      <div class="box-container">

         <div class="box">
            <h3 class="title">Likes and comments</h3>
            <p class="likes">Total likes : <span>120</span></p>
            <a href="#" class="inline-btn">View likes</a>
            <p class="likes">Total comments : <span>12</span></p>
            <a href="#" class="inline-btn">View comments</a>
            <p class="likes">Saved playlists : <span>4</span></p>
            <a href="#" class="inline-btn">View playlists</a>
         </div>

         <div class="box">
            <h3 class="title">top categories</h3>
            <div class="flex">
               <a href="#"><i class="fas fa-code"></i><span>Development</span></a>
               <a href="#"><i class="fas fa-chart-simple"></i><span>Business</span></a>
               <a href="#"><i class="fas fa-pen"></i><span>Design</span></a>
               <a href="#"><i class="fas fa-chart-line"></i><span>Marketing</span></a>
               <a href="#"><i class="fas fa-music"></i><span>Music</span></a>
               <a href="#"><i class="fas fa-camera"></i><span>Photography</span></a>
               <a href="#"><i class="fas fa-cog"></i><span>Software</span></a>
               <a href="#"><i class="fas fa-vial"></i><span>Science</span></a>
            </div>
         </div>

         <div class="box">
            <h3 class="title">popular topics</h3>
            <div class="flex">
               <a href="#"><i class="fab fa-html5"></i><span>HTML</span></a>
               <a href="#"><i class="fab fa-css3"></i><span>CSS</span></a>
               <a href="#"><i class="fab fa-js"></i><span>Javascript</span></a>
               <a href="#"><i class="fab fa-react"></i><span>React</span></a>
               <a href="#"><i class="fab fa-php"></i><span>PHP</span></a>
               <a href="#"><i class="fab fa-bootstrap"></i><span>Bootstrap</span></a>
            </div>
         </div>

         <div class="box">
            <h3 class="title">become a tutor</h3>
            <p class="tutor">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Perspiciatis, nam?</p>
            <a href="teachers.html" class="inline-btn">get started</a>
         </div>

      </div>

   </section>




   <section class="courses">

      <h1 class="heading">our courses</h1>

      <div class="box-container">

         <div class="box">
            <div class="tutor">
               <img src="images/pic-2.jpg" alt="">
               <div class="info">
                  <h3>Saurabh</h3>
                  <span>12-05-2025</span>
               </div>
            </div>
            <div class="thumb">
               <img src="images/thumb-1.png" alt="">
               <span>10 videos</span>
            </div>
            <h3 class="title">Complete HTML tutorial</h3>
            <a href="playlist.html" class="inline-btn">view playlist</a>
         </div>

         <div class="box">
            <div class="tutor">
               <img src="images/pic-3.jpg" alt="">
               <div class="info">
                  <h3>Aaradhya</h3>
                  <span>1-01-2025</span>
               </div>
            </div>
            <div class="thumb">
               <img src="images/thumb-2.png" alt="">
               <span>10 videos</span>
            </div>
            <h3 class="title">complete CSS tutorial</h3>
            <a href="playlist.html" class="inline-btn">view playlist</a>
         </div>

         <div class="box">
            <div class="tutor">
               <img src="images/pic-4.jpg" alt="">
               <div class="info">
                  <h3>Hemant</h3>
                  <span>21-10-2025</span>
               </div>
            </div>
            <div class="thumb">
               <img src="images/thumb-3.png" alt="">
               <span>10 videos</span>
            </div>
            <h3 class="title">Complete JS tutorial</h3>
            <a href="playlist.html" class="inline-btn">view playlist</a>
         </div>

         <div class="box">
            <div class="tutor">
               <img src="images/pic-5.jpg" alt="">
               <div class="info">
                  <h3>Uttam</h3>
                  <span>01-10-2025</span>
               </div>
            </div>
            <div class="thumb">
               <img src="images/thumb-4.png" alt="">
               <span>10 videos</span>
            </div>
            <h3 class="title">Complete Boostrap tutorial</h3>
            <a href="playlist.html" class="inline-btn">view playlist</a>
         </div>

         <div class="box">
            <div class="tutor">
               <img src="images/pic-6.jpg" alt="">
               <div class="info">
                  <h3>Shishpal</h3>
                  <span>11-09-2025</span>
               </div>
            </div>
            <div class="thumb">
               <img src="images/thumb-5.png" alt="">
               <span>10 videos</span>
            </div>
            <h3 class="title">Complete JQuery tutorial</h3>
            <a href="playlist.html" class="inline-btn">view playlist</a>
         </div>

         <div class="box">
            <div class="tutor">
               <img src="images/pic-7.jpg" alt="">
               <div class="info">
                  <h3>Saransh</h3>
                  <span>29-12-2025</span>
               </div>
            </div>
            <div class="thumb">
               <img src="images/thumb-6.png" alt="">
               <span>10 videos</span>
            </div>
            <h3 class="title">Complete SASS tutorial</h3>
            <a href="playlist.html" class="inline-btn">view playlist</a>
         </div>

      </div>

      <div class="more-btn">
         <a href="courses.html" class="inline-option-btn">View all courses</a>
      </div>

   </section>




   <footer class="footer">

      &copy; copyright @ 2025 by <span>Study Smart</span> | all rights reserved!

   </footer>

   <script src="js/script.js"></script>
<script>
    // DOM Elements
    const aiStickyBtn = document.getElementById('aiStickyBtn');
    const aiModal = document.getElementById('aiModal');
    const aiModalClose = document.getElementById('aiModalClose');
    const actionType = document.getElementById('actionType');
    const customQuestionGroup = document.getElementById('customQuestionGroup');
    const processBtn = document.getElementById('processBtn');
    const responseArea = document.getElementById('responseArea');
    const loadingIndicator = document.getElementById('loadingIndicator');
    const youtubeUrlInput = document.getElementById('youtubeUrl');
    const customQuestionInput = document.getElementById('customQuestion');

    // Event Listeners
    aiStickyBtn.addEventListener('click', openModal);
    aiModalClose.addEventListener('click', closeModal);
    aiModal.addEventListener('click', handleModalClick);
    actionType.addEventListener('change', handleActionChange);
    processBtn.addEventListener('click', processVideo);

    // Functions
    function openModal() {
        aiModal.style.display = 'flex';
        youtubeUrlInput.focus();
    }

    function closeModal() {
        aiModal.style.display = 'none';
    }

    function handleModalClick(e) {
        if (e.target === aiModal) closeModal();
    }

    function handleActionChange() {
        customQuestionGroup.style.display = actionType.value === 'custom' ? 'block' : 'none';
    }

    function showLoading() {
        loadingIndicator.style.display = 'block';
        processBtn.disabled = true;
        responseArea.innerHTML = '';
    }

    function hideLoading() {
        loadingIndicator.style.display = 'none';
        processBtn.disabled = false;
    }

    function showError(message) {
        responseArea.innerHTML = `
            <div class="error-message">
                <p>⚠️ ${message}</p>
                <p>Please try again or check the console for details.</p>
            </div>
        `;
    }

    async function processVideo() {
        const youtubeUrl = youtubeUrlInput.value.trim();
        const action = actionType.value;
        const customQuestion = customQuestionInput.value.trim();

        // Validation
        if (!youtubeUrl) {
            showError('Please enter a YouTube URL');
            youtubeUrlInput.focus();
            return;
        }

        if (action === 'custom' && !customQuestion) {
            showError('Please enter your question');
            customQuestionInput.focus();
            return;
        }

        try {
            showLoading();
            console.log('Starting video processing...');

            const payload = {
                youtube_url: youtubeUrl,
                action: action,
                question: action === 'custom' ? customQuestion : null
            };

            console.log('Request payload:', payload);

            const response = await fetch('http://localhost:5000/process_video', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(payload)
            });

            console.log('Response status:', response.status);

            if (!response.ok) {
                const errorData = await response.json().catch(() => ({}));
                throw new Error(errorData.error || `Server responded with status ${response.status}`);
            }

            const data = await response.json();
            console.log('Response data:', data);

            displayResults(data, action);
        } catch (error) {
            console.error('Processing error:', error);
            showError(error.message || 'Failed to process video');
        } finally {
            hideLoading();
        }
    }

    function displayResults(data, action) {
        let responseHTML = '';
        
        if (action === 'transcript') {
            responseHTML = `
                <div class="result-section">
                    <h4>📜 Full Transcript</h4>
                    <div class="transcript-content">${formatText(data.response)}</div>
                </div>
            `;
        } else {
            responseHTML = `
                <div class="result-section">
                    <h4>${action === 'custom' ? '❓ Answer' : '📝 Summary'}</h4>
                    <div class="response-content">${formatText(data.response)}</div>
                </div>
                ${action === 'custom' ? '' : `
                <div class="transcript-excerpt">
                    <h5>🔍 Transcript Excerpt</h5>
                    <p>${formatText(data.transcript.substring(0, 300))}...</p>
                </div>
                `}
            `;
        }

        responseArea.innerHTML = responseHTML;
    }

    function formatText(text) {
        return text
            .replace(/\n/g, '<br>')
            .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
            .replace(/\*(.*?)\*/g, '<em>$1</em>');
    }

    // Initialize
    console.log('AI Assistant initialized');
</script>


</body>

</html>